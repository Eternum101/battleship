(()=>{var e={672:(e,t,n)=>{const{createShip:r}=n(643),o=n(498),{createPlayer:a}=n(507),{renderGameboard:i,fleetDraggable:l}=n(171);!function(){a("Human",!1),a("Computer",!0);const e=o(),t=o();i(e,"player"),i(t,"computer"),l()}()},171:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fleetDraggable:()=>i,handleAttackResult:()=>s,renderGameboard:()=>a});const{createShip:r}=n(643),o=n(498)();function a(e,t){const n=document.getElementById(t);n.innerHTML="";for(let t=0;t<e.board.length;t++)for(let r=0;r<e.board[t].length;r++){const e=document.createElement("div");e.classList.add("cell"),n.appendChild(e),e.setAttribute("data-index",`${t}-${r}`),e.addEventListener("dragover",c),e.addEventListener("drop",u),e.addEventListener("drop",(e=>u(e,o,"horizontal")))}}function i(){document.querySelectorAll(".ship").forEach((e=>{e.setAttribute("draggable",!0),e.addEventListener("dragstart",l)}))}function l(e){e.dataTransfer.setData("text/plain",e.target.id)}function c(e){e.preventDefault()}function u(e,t,n){console.log("handleDrop:",e,t,n),e.preventDefault();const o=e.dataTransfer.getData("text/plain"),a=document.getElementById(o),[i,l]=e.target.getAttribute("data-index").split("-").map(Number),c=parseInt(a.getAttribute("data-length"),10),u=r(c);if(t.isValidPlacement(u,i,l,n)){if(t.placeShip(u,i,l,n),"horizontal"===n)for(let e=0;e<c;e++)document.querySelector(`[data-index="${i+e}-${l}"]`).style.backgroundColor="gray";else if("vertical"===n)for(let e=0;e<c;e++)document.querySelector(`[data-index="${i}-${l+e}"]`).style.backgroundColor="gray";a.style.display="none"}else console.log("Invalid ship placement:",u,i,l,n)}function s(e,t,n,r){}},498:e=>{e.exports=function(){const e=10,t=Array(e).fill().map((()=>Array(e).fill(null))),n=[],r=[];function o(n,r,o,a){if(console.log("Checking ship placement:",n,r,o,a),"horizontal"===a){if(console.log("Checking horizontal ship placement:",r+n.length,e),r+n.length>e)return!1}else if("vertical"===a&&(console.log("Checking vertical ship placement:",o+n.length,e),o+n.length>e))return console.log("Invalid ship placement:",n,r,o,a),!1;for(let e=-1;e<=n.length;e++)for(let n=-1;n<=1;n++)if("horizontal"===a){if(t[r+e]&&t[r+e][o+n])return!1}else if("vertical"===a&&t[r+n]&&t[r+n][o+e])return!1;return console.log("Ship placement is valid:",n,r,o,a),!0}function a(){return Math.floor(10*Math.random())}return{board:t,placeShip:function(e,n,a,i){if(!o(e,n,a,i))return!1;if(r.push(e),"horizontal"===i)for(let r=0;r<e.length;r++)t[n+r][a]=e;else if("vertical"===i)for(let r=0;r<e.length;r++)t[n][a+r]=e},isValidPlacement:o,receiveAttack:function(e,r){t[e][r]?t[e][r].hit():n.push([e,r])},missedAttacks:n,allShipsSunk:function(){return r.every((e=>e.isSunk()))},generateRandomShip:function e(t){const n=a(),r=a(),o=Math.random()<.5?"horizontal":"vertical";return checkShipPlacement(n,r,o,t)?{x:n,y:r,direction:o}:e(t)}}}},507:(e,t)=>{t.createPlayer=function(e,t=!1){return{name:e,isComputer:t,turn:!1,getName:function(){return this.name},setName:function(e){this.name=e},getTurn:function(){return this.turn},setTurn:function(e){this.turn=e},aiAttack:function(e){if(this.isComputer&&this.turn){const t=Math.floor(Math.random()*e.board.length),n=Math.floor(Math.random()*e.board[0].length);e.receiveAttack(t,n)}},attackEnemy:function(e,t,n){this.turn&&e.receiveAttack(t,n)}}}},643:(e,t)=>{t.createShip=function(e){return{length:e,hits:0,isSunk:function(){return this.hits===this.length},hit:function(){this.hits++}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(672)()})();